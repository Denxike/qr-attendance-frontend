import{f as i}from"./vendor-BCPqKLS0.js";const n="https://your-backend.railway.app",t=i.create({baseURL:n,headers:{"Content-Type":"application/json"}});t.interceptors.request.use(e=>{const s=localStorage.getItem("token");return s&&(e.headers.Authorization=`Bearer ${s}`),e},e=>Promise.reject(e));t.interceptors.response.use(e=>e,e=>{var s,a,o,r;return console.error("API Error:",{status:(s=e.response)==null?void 0:s.status,data:(a=e.response)==null?void 0:a.data,url:(o=e.config)==null?void 0:o.url}),((r=e.response)==null?void 0:r.status)===401&&(localStorage.clear(),window.location.href="/login"),Promise.reject(e)});const c={login:async e=>{const s=await fetch(`${n}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await s.json();if(!s.ok)throw{response:{data:a}};return{data:a}},registerStudent:async e=>{const s=await fetch(`${n}/api/students/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await s.json();if(!s.ok)throw{response:{data:a}};return{data:a}},registerTeacher:async e=>{const s=await fetch(`${n}/api/teachers/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await s.json();if(!s.ok)throw{response:{data:a}};return{data:a}}},d={getEnrolledCourses:e=>t.get(`/api/students/${e}/courses`),getAttendanceHistory:e=>t.get(`/api/attendance/student/${e}`),getAttendanceByCourse:(e,s)=>t.get(`/api/attendance/student/${e}/course/${s}`),markAttendance:e=>t.post("/api/attendance/mark",e),getAvailableCourses:e=>t.get(`/api/students/${e}/available-courses`),selfEnroll:(e,s)=>t.post(`/api/students/${e}/enroll/${s}`),unenroll:(e,s)=>t.delete(`/api/enrollment/${e}/${s}`)},l={getCourses:e=>t.get(`/api/teachers/${e}/courses`),generateQR:e=>t.post("/api/qr/generate",e),getSessionDetails:e=>t.get(`/api/qr/session/${e}`),getSessionAttendance:e=>t.get(`/api/attendance/session/${e}`),deactivateSession:e=>t.put(`/api/qr/session/${e}/deactivate`)},u={getAllDepartments:()=>t.get("/api/admin/departments"),createDepartment:e=>t.post("/api/admin/departments",e),deleteDepartment:e=>t.delete(`/api/admin/departments/${e}`),getAllCourses:()=>t.get("/api/admin/courses"),createCourse:e=>t.post("/api/admin/courses",e),deleteCourse:e=>t.delete(`/api/admin/courses/${e}`),getAllStudents:()=>t.get("/api/admin/students"),enrollStudent:e=>t.post("/api/admin/enroll",e),getAllTeachers:()=>t.get("/api/admin/teachers"),getAllAttendance:()=>t.get("/api/admin/attendance")};export{c as a,u as b,d as s,l as t};
